{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'tpw/style.css' %}"/>

{% if messages %}
    <ul>
        {% for msg in messages %}
            <li>{{ msg }}</li>
        {% endfor %}
    </ul>
{% endif %}

<h1>Settings</h1>
<br/>
<form action="{% url 'tpw:updateconfig' %}" method="post">
    {% csrf_token %}

    <table>
        <tr>
            <th colspan="2">
                <h2>[Database]</h2>
            </th>
        </tr>
        <tr>
            <td width="200"><label for="databasehosttxt">Hostname</label></td>
            <td width="200"><input name="databasehosttxt" type="text" id="databasehosttxt" size="50"
                                   {% if database %} value="{{ database.hostname }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="databasenametxt">Database name</label></td>
            <td><input name="databasenametxt" type="text" id="databasenametxt" size="50"
                       {% if database %} value="{{ database.dbname }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="databaseusertxt">Username</label></td>
            <td><input name="databaseusertxt" type="text" id="databaseusertxt" size="50"
                       {% if database %} value="{{ database.username }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="databasepasstxt">Password</label></td>
            <td><input name="databasepasstxt" type="password" id="databasepasstxt" size="50"
                       {% if database %} value="{{ database.password }}" {% endif %}
            /></td>
        </tr>
        <tr><td><br/></td></tr>
        <tr><td><br/></td></tr>
        <tr>
            <th colspan="2">
                <h2>[Twitter]</h2>
            </th>
        </tr>
        <tr>
            <td><label for="consumerkeytxt">Consumer Key</label></td>
            <td><input name="consumerkeytxt" type="text" id="consumerkeytxt" size="50"
                       {% if tw_account %} value="{{ tw_account.consumer_key }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="consumersecrettxt">Consumer Secret</label></td>
            <td><input name="consumersecrettxt" type="text" id="consumersecrettxt" size="50"
                       {% if tw_account %} value="{{ tw_account.consumer_secret }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="accesstokentxt">Access token</label></td>
            <td><input name="accesstokentxt" type="text" id="accesstokentxt" size="50"
                       {% if tw_account %} value="{{ tw_account.access_token }}" {% endif %}
            /></td>
        </tr>
        <tr>
            <td><label for="accesstokensecrettxt">Access token secret</label></td>
            <td><input name="accesstokensecrettxt" type="text" id="accesstokensecrettxt" size="50"
                       {% if tw_account %} value="{{ tw_account.access_token_secret }}" {% endif %}
            /></td>
        </tr>
    </table>
    <br/><br/>
    <input type="submit" value="Update configuration!"/>
    <a href="{% url 'tpw:index' %}">
        <button type="button">Home/Cancel</button>
    </a>
</form>